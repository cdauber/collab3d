{"version":3,"sources":["ConfirmResolve/ConfirmResolve.js","redux/actions.js","CommentsColumn/CommentInput/CommentInput.js","CommentsColumn/Comment/TopRow/ProfileIcon/ProfileIcon.js","CommentsColumn/Comment/TopRow/TopRow.js","comments.js","redux/store.js","CommentsColumn/CommentsColumnHeader/CommentsColumnHeader.js","CommentsColumn/Comment/Comment.js","CommentsColumn/MainComment/MainComment.js","CommentsColumn/MainThread/MainThread.js","CommentsColumn/Thread/Thread.js","CommentsColumn/CommentsColumn.js","DrawCanvas/DrawCanvas.js","DrawOver/DrawOver.js","Header/Header.js","ModelRenderer.js","index.js"],"names":["ConfirmResolve","isModalOpen","onCancel","onResolve","props","id","className","onClick","event","stopPropagation","moveCamera","cameraPosition","type","data","selectComment","comment","deselectComment","unattachDrawOver","unattachPin","cancelComment","resolveComment","connect","isCommenting","fileIsAttached","file","drawOverIsAttached","drawing","pinIsAttached","pin","cancelEnabled","submitEnabled","beginComment","attachFile","unattachFile","attachDrawOver","attachPin","stateProps","dispatchProps","ownProps","onFocusTextArea","mainThread","onBlurTextArea","length","onClickAttachFile","onClickAttachDrawOver","onClickAttachPin","onClickCancel","pinAttachable","onClickSubmit","useState","inputComment","setInputComment","placeholder","value","onChange","target","onFocus","onBlur","data-tip","src","alt","place","effect","disabled","ProfileIcon","author","split","filter","_","i","names","map","name","toLocaleUpperCase","join","addDays","date","days","result","Date","valueOf","setDate","getDate","TopRow","profilePic","redrawEnabled","onRedraw","closeMenu","setCloseMenu","useEffect","dateInMillis","today","toDateString","toLocaleTimeString","navigator","language","timeStyle","toLocaleDateString","dateStyle","relativeDateString","trigger","position","on","closeOnDocumentClick","closeOnEscape","arrow","getTime","text","camera","focus","thread","drawOver","CURSOR","INITIAL_CAMERA_POSITION","initialState","cursor","activeCameraPosition","maxCommentId","comments","createStore","state","cameraPositionEquals","camera1","camera2","every","p","Math","abs","f","selectedComment","find","selectedCommentId","JSON","parse","LZString","decompressFromEncodedURIComponent","reply","attachedFile","attachedPin","compressToEncodedURIComponent","stringify","activeThreadId","repinEnabled","dispatch","onRepin","headerText","iconImage","selected","children","onClickReply","openThread","replyLabel","onAddComment","onClickComment","onResolveComment","resolveCommentId","setResolveCommentId","key","flatMap","onReturn","resolveReply","onAddReply","addReply","restOfDispatchProps","activeThread","handleUndo","isPainting","setPainting","line","slice","handleClick","ref","nativeEvent","offsetX","offsetY","x","current","clientWidth","y","clientHeight","handleDrag","currLine","convertTouchToMouse","handler","canvasRect","getBoundingClientRect","touch","targetTouches","pageX","left","pageY","top","DrawCanvas","lineWidth","lineColor","useRef","ctx","setContext","getContext","canvas","clearRect","width","height","rest","lineJoin","lineCap","strokeStyle","beginPath","moveTo","lineTo","stroke","paint","allowChanges","keyMap","undo","handlers","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","interactive","updateDrawing","Header","eyeOpen","setEyeOpen","alert","Model","path","gltf","useLoader","GLTFLoader","mroot","scene","bbox","Box3","setFromObject","scale","multiplyScalar","max","getSize","Vector3","toArray","copy","getCenter","object","Controls","onOrbitChange","controlsRef","controls","set","addEventListener","update","removeEventListener","useThree","domElement","gl","args","extend","OrbitControls","reduce","acc","fov","near","onCreated","outputEncoding","sRGBEncoding","background","Color","minDistance","maxDistance","fallback","WrappedMainPage","onClickTopCamera","onClickFrontCamera","onClickSideCamera","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.e3876e6b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./ConfirmResolve.css\";\r\n\r\nexport function ConfirmResolve({ isModalOpen, onCancel, onResolve, ...props }) {\r\n  return (\r\n    <div id=\"modal\" className={isModalOpen ? \"\" : \"hide\"} onClick={onCancel}>\r\n      <div\r\n        id=\"modal-dialog\"\r\n        onClick={event => event.stopPropagation()}\r\n        {...props}\r\n      >\r\n        <span id=\"modal-warning\">Are you sure you want to resolve?</span>\r\n        <div id=\"modal-actions\">\r\n          <span\r\n            id=\"modal-cancel\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onCancel();\r\n            }}\r\n          >\r\n            Cancel\r\n          </span>\r\n          <span\r\n            id=\"modal-submit\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onResolve();\r\n            }}\r\n          >\r\n            Submit\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * action types\r\n */\r\n\r\nexport const CHANGE_CAMERA = \"CHANGE_CAMERA\";\r\nexport const MOVE_CAMERA = \"MOVE_CAMERA\";\r\nexport const SELECT_COMMENT = \"SELECT_COMMENT\";\r\nexport const DESELECT_COMMENT = \"DESELECT_COMMENT\";\r\n\r\nexport const BEGIN_COMMENT = \"BEGIN_COMMENT\";\r\nexport const ATTACH_FILE = \"ATTACH_FILE\";\r\nexport const UNATTACH_FILE = \"UNATTACH_FILE\";\r\nexport const ATTACH_DRAW_OVER = \"ATTACH_DRAW_OVER\";\r\nexport const UNATTACH_DRAW_OVER = \"UNATTACH_DRAW_OVER\";\r\nexport const ATTACH_PIN = \"ATTACH_PIN\";\r\nexport const UNATTACH_PIN = \"UNATTACH_PIN\";\r\nexport const CANCEL_COMMENT = \"CANCEL_COMMENT\";\r\n\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const ADD_REPLY = \"ADD_REPLY\";\r\nexport const RESOLVE_COMMENT = \"RESOLVE_COMMENT\";\r\nexport const RESOLVE_REPLY = \"RESOLVE_REPLY\";\r\n\r\nexport const OPEN_THREAD = \"OPEN_THREAD\";\r\nexport const CLOSE_THREAD = \"CLOSE_THREAD\";\r\n\r\nexport const UPDATE_DRAWING = \"UPDATE_DRAWING\";\r\nexport const UPDATE_PIN = \"UPDATE_PIN\";\r\n\r\n/**\r\n * action creators\r\n */\r\n\r\nexport function changeCamera(cameraPosition) {\r\n  return { type: CHANGE_CAMERA, data: cameraPosition };\r\n}\r\nexport function moveCamera(cameraPosition) {\r\n  return { type: MOVE_CAMERA, data: cameraPosition };\r\n}\r\nexport function selectComment(comment) {\r\n  return { type: SELECT_COMMENT, data: comment };\r\n}\r\nexport function deselectComment() {\r\n  return { type: DESELECT_COMMENT };\r\n}\r\n\r\nexport function beginComment() {\r\n  return { type: BEGIN_COMMENT };\r\n}\r\nexport function attachFile() {\r\n  return { type: ATTACH_FILE };\r\n}\r\nexport function unattachFile() {\r\n  return { type: UNATTACH_FILE };\r\n}\r\nexport function attachDrawOver() {\r\n  return { type: ATTACH_DRAW_OVER };\r\n}\r\nexport function unattachDrawOver() {\r\n  return { type: UNATTACH_DRAW_OVER };\r\n}\r\nexport function attachPin() {\r\n  return { type: ATTACH_PIN };\r\n}\r\nexport function unattachPin() {\r\n  return { type: UNATTACH_PIN };\r\n}\r\nexport function cancelComment() {\r\n  return { type: CANCEL_COMMENT };\r\n}\r\n\r\nexport function addComment(text) {\r\n  return { type: ADD_COMMENT, data: text };\r\n}\r\nexport function addReply(comment, text) {\r\n  return { type: ADD_REPLY, data: { comment, text } };\r\n}\r\nexport function resolveComment(comment) {\r\n  return { type: RESOLVE_COMMENT, data: comment };\r\n}\r\nexport function resolveReply(comment, reply) {\r\n  return { type: RESOLVE_REPLY, data: { comment, reply } };\r\n}\r\n\r\nexport function openThread(comment) {\r\n  return { type: OPEN_THREAD, data: comment };\r\n}\r\nexport function closeThread() {\r\n  return { type: CLOSE_THREAD };\r\n}\r\n\r\nexport function updateDrawing(drawing) {\r\n  return { type: UPDATE_DRAWING, data: drawing };\r\n}\r\nexport function updatePin(pin) {\r\n  return { type: UPDATE_PIN, data: pin };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport TextareaAutosize from \"react-autosize-textarea/lib\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {\r\n  attachDrawOver,\r\n  attachFile,\r\n  attachPin,\r\n  beginComment,\r\n  cancelComment,\r\n  deselectComment,\r\n  unattachDrawOver,\r\n  unattachFile,\r\n  unattachPin\r\n} from \"../../redux/actions\";\r\nimport \"./CommentInput.css\";\r\n\r\nfunction CommentInput({\r\n  pinAttachable = false,\r\n  mainThread = false,\r\n  fileIsAttached,\r\n  drawOverIsAttached,\r\n  pinIsAttached,\r\n  cancelEnabled,\r\n  submitEnabled,\r\n  onFocusTextArea,\r\n  onBlurTextArea,\r\n  onClickAttachFile,\r\n  onClickAttachDrawOver,\r\n  onClickAttachPin,\r\n  onClickCancel,\r\n  onClickSubmit = () => {},\r\n  ...props\r\n}) {\r\n  const [inputComment, setInputComment] = useState();\r\n\r\n  return (\r\n    <div className=\"comment-input-column\" {...props}>\r\n      <TextareaAutosize\r\n        className=\"comment-input-text-area\"\r\n        placeholder=\"Add a comment\"\r\n        value={inputComment}\r\n        onChange={event => setInputComment(event.target.value)}\r\n        onFocus={onFocusTextArea}\r\n        onBlur={() => onBlurTextArea(inputComment)}\r\n      />\r\n      <div className=\"comment-input-actions-row\">\r\n        <div className=\"comment-input-icon-actions\">\r\n          <button\r\n            className={\r\n              \"comment-input-icon-action-button\" +\r\n              (fileIsAttached ? \" active\" : \"\")\r\n            }\r\n            data-tip=\"Attach file\"\r\n            onClick={() => onClickAttachFile(inputComment)}\r\n          >\r\n            <img src=\"assets/clip.svg\" alt=\"File attachment icon\" />\r\n          </button>\r\n          <button\r\n            className={\r\n              \"comment-input-icon-action-button\" +\r\n              (drawOverIsAttached ? \" active\" : \"\")\r\n            }\r\n            data-tip=\"Drawover\"\r\n            onClick={() => onClickAttachDrawOver(inputComment)}\r\n          >\r\n            <img src=\"assets/pencil.svg\" alt=\"File attachment icon\" />\r\n          </button>\r\n          {pinAttachable && (\r\n            <button\r\n              className={\r\n                \"comment-input-icon-action-button\" +\r\n                (pinIsAttached ? \" active\" : \"\")\r\n              }\r\n              data-tip=\"Pin\"\r\n              onClick={() => onClickAttachPin(inputComment)}\r\n            >\r\n              <img src=\"assets/pin.svg\" alt=\"File attachment icon\" />\r\n            </button>\r\n          )}\r\n          <ReactTooltip\r\n            className=\"comment-input-tooltip\"\r\n            place=\"bottom\"\r\n            effect=\"solid\"\r\n          />\r\n        </div>\r\n        <div className=\"comment-input-text-actions\">\r\n          <button\r\n            className=\"comment-input-text-action-button comment-input-cancel-button\"\r\n            disabled={\r\n              !(cancelEnabled || (inputComment && inputComment.length > 0))\r\n            }\r\n            onClick={() => {\r\n              setInputComment(\"\");\r\n              onClickCancel();\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"comment-input-text-action-button comment-input-submit-button\"\r\n            disabled={\r\n              !(submitEnabled || (inputComment && inputComment.length > 0))\r\n            }\r\n            onClick={() => {\r\n              onClickSubmit(inputComment || \"\");\r\n              setInputComment(\"\");\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mergeProps(stateProps, dispatchProps, ownProps) {\r\n  const {\r\n    deselectComment,\r\n    beginComment,\r\n    attachFile,\r\n    unattachFile,\r\n    attachDrawOver,\r\n    unattachDrawOver,\r\n    attachPin,\r\n    unattachPin,\r\n    cancelComment\r\n  } = dispatchProps;\r\n\r\n  return {\r\n    ...ownProps,\r\n    ...stateProps,\r\n    onFocusTextArea: () => {\r\n      if (stateProps.isCommenting) {\r\n        if (stateProps.mainThread) {\r\n          deselectComment();\r\n        }\r\n        beginComment();\r\n      }\r\n    },\r\n    onBlurTextArea: comment =>\r\n      !stateProps.fileIsAttached &&\r\n      !stateProps.drawOverIsAttached &&\r\n      !stateProps.pinIsAttached &&\r\n      (!comment || comment.length === 0) &&\r\n      cancelComment(),\r\n    onClickAttachFile: comment => {\r\n      if (stateProps.fileIsAttached) {\r\n        if (\r\n          !stateProps.drawOverIsAttached &&\r\n          !stateProps.pinIsAttached &&\r\n          (!comment || comment.length === 0)\r\n        ) {\r\n          cancelComment();\r\n        } else {\r\n          unattachFile();\r\n        }\r\n      } else {\r\n        if (!stateProps.cancelEnabled) {\r\n          if (ownProps.mainThread) {\r\n            deselectComment();\r\n          }\r\n          beginComment();\r\n        }\r\n        attachFile();\r\n      }\r\n    },\r\n    onClickAttachDrawOver: comment => {\r\n      if (stateProps.drawOverIsAttached) {\r\n        if (\r\n          !stateProps.fileIsAttached &&\r\n          !stateProps.pinIsAttached &&\r\n          (!comment || comment.length === 0)\r\n        ) {\r\n          cancelComment();\r\n        } else {\r\n          unattachDrawOver();\r\n        }\r\n      } else {\r\n        if (!stateProps.cancelEnabled) {\r\n          if (ownProps.mainThread) {\r\n            deselectComment();\r\n          }\r\n          beginComment();\r\n        }\r\n        attachDrawOver();\r\n      }\r\n    },\r\n    onClickAttachPin: comment => {\r\n      if (stateProps.pinIsAttached) {\r\n        if (\r\n          !stateProps.fileIsAttached &&\r\n          !stateProps.drawOverIsAttached &&\r\n          (!comment || comment.length === 0)\r\n        ) {\r\n          cancelComment();\r\n        } else {\r\n          unattachPin();\r\n        }\r\n      } else {\r\n        if (!stateProps.cancelEnabled) {\r\n          if (ownProps.mainThread) {\r\n            deselectComment();\r\n          }\r\n          beginComment();\r\n        }\r\n        attachPin();\r\n      }\r\n    },\r\n    onClickCancel: () => cancelComment()\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  ({\r\n    isCommenting,\r\n    fileIsAttached,\r\n    file,\r\n    drawOverIsAttached,\r\n    drawing,\r\n    pinIsAttached,\r\n    pin\r\n  }) => ({\r\n    fileIsAttached,\r\n    drawOverIsAttached,\r\n    pinIsAttached,\r\n    cancelEnabled: isCommenting,\r\n    submitEnabled:\r\n      (fileIsAttached && file) ||\r\n      (drawOverIsAttached && drawing) ||\r\n      (pinIsAttached && pin)\r\n  }),\r\n  {\r\n    deselectComment,\r\n    beginComment,\r\n    attachFile,\r\n    unattachFile,\r\n    attachDrawOver,\r\n    unattachDrawOver,\r\n    attachPin,\r\n    unattachPin,\r\n    cancelComment\r\n  },\r\n  mergeProps\r\n)(CommentInput);\r\n","import React from \"react\";\r\nimport \"./ProfileIcon.css\";\r\n\r\nexport function ProfileIcon({ src, author }) {\r\n  return src ? (\r\n    <img className=\"profile-picture\" src={src} alt={author} />\r\n  ) : (\r\n    <div className=\"initials\">\r\n      {author\r\n        .split(\" \")\r\n        .filter((_, i, names) => i === 0 || i === names.length - 1)\r\n        .map(name => name[0].toLocaleUpperCase())\r\n        .join(\"\")}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport { ProfileIcon } from \"./ProfileIcon/ProfileIcon\";\r\nimport \"./TopRow.css\";\r\n\r\nexport function addDays(date, days) {\r\n  const result = new Date(date.valueOf());\r\n  result.setDate(date.getDate() + days);\r\n  return result;\r\n}\r\n\r\nfunction relativeDateString(dateInMillis) {\r\n  const today = new Date();\r\n  const date = new Date(dateInMillis);\r\n\r\n  if (today.toDateString() === date.toDateString()) {\r\n    return `${date.toLocaleTimeString(navigator.language, {\r\n      timeStyle: \"short\"\r\n    })} Today`;\r\n  } else if (today.toDateString() === addDays(date, 1).toDateString()) {\r\n    return \"Yesterday\";\r\n  } else {\r\n    return date.toLocaleDateString(navigator.language, { dateStyle: \"medium\" });\r\n  }\r\n}\r\n\r\nexport function TopRow({\r\n  profilePic,\r\n  author,\r\n  date,\r\n  redrawEnabled,\r\n  onRedraw,\r\n  onResolve\r\n}) {\r\n  const [closeMenu, setCloseMenu] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (closeMenu) {\r\n      setCloseMenu(false);\r\n    }\r\n  }, [closeMenu, setCloseMenu]);\r\n\r\n  return (\r\n    <div className=\"comment-top-row\">\r\n      <ProfileIcon src={profilePic} author={author} />\r\n      <div className=\"comment-top-column\">\r\n        <div className=\"author-name\">{author}</div>\r\n        <div className=\"comment-date\">{relativeDateString(date)}</div>\r\n      </div>\r\n      {redrawEnabled && (\r\n        <button\r\n          className=\"top-row-redo-button\"\r\n          onClick={onRedraw}\r\n        >\r\n          Redraw\r\n        </button>\r\n      )}\r\n      <Popup\r\n        className=\"top-row-popup\"\r\n        trigger={\r\n          <button className=\"small-icon-button\">\r\n            <img src=\"assets/dots.svg\" alt=\"More options icon\" />\r\n          </button>\r\n        }\r\n        position=\"bottom right\"\r\n        on=\"click\"\r\n        closeOnDocumentClick\r\n        closeOnEscape\r\n        disabled={closeMenu}\r\n        arrow={false}\r\n      >\r\n        <div className=\"top-row-menu\">\r\n          <div className=\"top-row-menu-options-row\">\r\n            Options\r\n            <button className=\"small-icon-button\">\r\n              <img\r\n                src=\"assets/close.svg\"\r\n                alt=\"Close menu icon\"\r\n                onClick={() => setCloseMenu(true)}\r\n              />\r\n            </button>\r\n          </div>\r\n          <div\r\n            onClick={() => {\r\n              setCloseMenu(true);\r\n              onResolve();\r\n            }}\r\n          >\r\n            Resolve\r\n          </div>\r\n          <div onClick={() => setCloseMenu(true)}>Edit</div>\r\n          <div\r\n            onClick={() => {\r\n              setCloseMenu(true);\r\n              onResolve();\r\n            }}\r\n          >\r\n            Delete\r\n          </div>\r\n        </div>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import { addDays } from \"./CommentsColumn/Comment/TopRow/TopRow\";\r\n\r\nexport default [\r\n  {\r\n    id: 1,\r\n    author: \"Steve Singh\",\r\n    date: new Date().getTime(),\r\n    text:\r\n      \"I dont like how the openings end before the bottom of the black canvas, what can we do about this?\",\r\n    camera: {\r\n      position: [3.6724893617668513, 0.10448181831762553, -0.10443959458119491],\r\n      focus: [0, 0, 0]\r\n    },\r\n    thread: []\r\n  },\r\n  {\r\n    id: 2,\r\n    author: \"Ed Lazowska\",\r\n    date: addDays(new Date(), -1).getTime(),\r\n    text:\r\n      \"I'm really proud of the lacing design here, do we think it will be too complicated?\",\r\n    camera: {\r\n      position: [-0.2391278466290959, 0.2413250726086689, 1.7599386342780603],\r\n      focus: [0, 0, 0]\r\n    },\r\n    thread: []\r\n  },\r\n  {\r\n    id: 3,\r\n    author: \"Dan Levitan\",\r\n    date: addDays(new Date(), -2).getTime(),\r\n    text:\r\n      \"I love the differnent fonts, but make the nike and zoom closer together in size\",\r\n    drawOver:\r\n      \"NrDeCIA9wLgBgHQGYCsSBMB2AbKjO91sAacAT1kQBYAOOATgEZs4k40rVHHMBfYiNHjIU2RujSjxksaQrCqmenDgFUNTJhrYJ-QZRE16mTiiMnU9OQcWYG9dEmzYq49Iyp6oBpxkXa-LVxHawVMDBp0KiosWgZmLyFEJ0wUdxS0xgyUUOpMLJM4KjM4RjTsPgFvYSQ7WtY6xtYc8ht82qoikrKiSv0akxckDSohkedchFH6UdFaGhQqejEaTyqk5C0mcK2eWqNJ0dSUTAlGZRokZfpEnxoeZ2GH3HuaQ4qUE7OLq+wb9buLCuNG0rHoIJYVHecxBi2WjEu6Dg2FuNRB6IxmKsrQUuEKxToPQq6FRyXoSGYjnJlKuFJa8moeM6BNK5VOpOQxlM5m5XMOKHoDicLjcBTW-WopTsMylDE6PH5gsczlc6HSJg5zM+qy6ZmZJBx1G6bJ4n1OKE1cBBFIul3OVtW-MJJuO5s13GwdCYzC93Ew-LEyI0cDVylULndFPYrijiyyjADjCDdlDKhw4uq1D2ux2Rj2BoZUykyZD6DD6c1SLVSirWAcIcTJdT4YzGxizDS7ewnfcFUbnpTZbTEYBCgkDgF46nAqQ-eDzYro+o6A0Jgcq6WK7ehqLgYHpfLI4lUwpOlpNOpLjng8PrZs6i5D4sAuvB+Hd4UtQw5y-7nJ4VfBcj0zKZ5WlMC5VKAsbDjcFFAiKIYj6EDolQtD0OiflXDg8IV0QrBNUUMskGiU5yVI2cd2KICkHUTQNE1FBShiYpmKiJisn5Gi6K0ZC20WVwBQEsp6AErih3DWizHoviYNOFxRPkpYvnpGDuOk3jGO0IwCU9GZpPEw8pNXBilymMQ0FWCzhlGMpoIUNIJLUDTTOPUZOHGDzBk4f0qMcoyeNclDu3uc4Qu4ZYzEM4djJkzVPWcBgEpYZYNGiyTAtksIynsfImMFPKoT81h7gqckjApMsLTMxReWfHkSP5ErmCUYZqSqzVNCRJQutUYxTiap4yrayrRM1e5aA8Cbpo8VSFFmFxYSWFYMCQcbODYWgNqKVZKMLaJu0WhZloRVbxvyJRaAumYNAVKiFvmOEVscTUmGowVZrLN69psA6YWO+FLler4FJB5STEOP6jqe07XoWVIlnhuFtEh2JfSBdgSOq48OJY3H2NZVGTHR1hMeKDkmKQ1AiiwanOCJuImAxjhsZApj8jVdm3HZ9AGZJtgWYp7hflKLJllFor9qQxnmFJwWzJQDwCaV1ilb5+JmaxoXwNlGUeATe6rV+GZDsetaFfOGY2EtzgGyokbxH6+xHCyxBHJrUsPerQ4HbLTRndqCmsGRT5g+7NJ8h9irHf9pVA4VilaOUROrlYDwo-ap249dhAOAROgSPz1gYgz0bY6FHO0Caeoa8j+3o796UK4pmMkzjWMY1LmOm5dlvBNE6IRIE3n68z8ve4VrbaJ27atq7xuA8rxW8PYcRIlXn7PwbrPm4V9u29b6MDf232d4nnHRHBFRL7odg-nns-44v8EhwFSJlDfh-x6ftmdAqOg-5aGREQH2N4Yp0RRArZwok7J-EVqIe+9swEZWkpAnGHMJCqG5lgze1B6jqQ0GgtmhQSGdFIcfe8yDnKEIpj1U4fVepKG3CfKhuAIEUx1MUPUupHRILfCgmhCtrT2mEbaXBJ5WGxSIRsScsiJzyJAXwghOAKapUSmolKnpQH8OoSohWBUcoGPysYbRyjpEGBYBIEUIY5hJgkKYpybDUEchYPvI+HcHEBWcWZFgkQdBJj8e4K0I8WE6KcYI48YhuDRJiTEkJlCwlSJcWUGy1krJlElgksxyTIi0RWI4JwCJ4mfkkewnxQTAkBKIO4ChJTEllMiRIVAYgmlSAkJkup2TynLDLDoHp-TfKhK6ZEpOadRkp2xEMxxSSfFPBwC8Z4wxil4NKd4yJeM2KqxYp48BayQIuGJE4I4yojg7IEXo9ZM1JrXPuGc3R5jhDdlyoY4whi7nhIufs0Odhw5h0+OIny9S9kbHCmFMwEVwrvJmZEzR2hYXqKhQ0-Z3Yoi9h7B2AF+DplIpBZ6eIPp8WelqSsoFETkUwIQRS6Bc0SXDP2acI5hyDkMsRcCixqR0gfE5akTFqyyUgqAYAgBvRblKOxWyx5uTClSvyby0lnyQWXBwEGWoLBPTDFZfyixcKko6o0ZqhVFixEiLtBcA1DzEB-EcOGIUNqQhiq8Vqx5VK4GwNEssk829v45z+KCyKoVIqQyNtcB6sJzaRMFLbG21tBQ0tAsGv4oaFjhpAnYK0iw03HUzUGy4IbTZho5IOL2dYqwAs6LmxN+bk2FtXivZe680g5uNkmtANbfk-O+SHJteb-qtrMjrHgkFB0zHVkzOWWt+1VP8cE6dzDfpow1uO8mk7OZYNXRg0dssBYTuPBgrm663Cbs1su3dWQuVno5QUSGLaTpA0ncYvKzzFbXqrTDO9p7Lq3U-fkOd80b2AxTRsfI-5vwgb-B06gW1cKRGiGjRghbur9UQ71X9kHVjQfwsTeD-bkP0LoUiVDoF0MIVg1hhDaoKOUao4NUqrVt6syA5gvda6zg0ZauVTODGDCnGLbxyZalxUmRzmREiRFyJiYg0WbCxG8KkcLWwHAtrFPWsGTBaT8FZNIXk3+X8P5cIeuKHuecjiPyIFwnp0Dv4DPFn3EBUzCBwjSoKbKpwTpWS9FNCpeTlNaY+fCM+vyccVSig6N5mm-nwtcEVEKYLaoxTyeZScplknbKImREmWzgHuOMoZYlo57wOhdGdL0Ek-b9jbHK9mfjuJCssiJOyMrl4qSnipCl19t6MDIkLV2dFKKYgGfawBpEFqHM9dRR2VFA3XTfATf8XddUFuuaopW3tt77P1UfGYR89lGQm1W4DdbWzlZ42JVMdo+JjS9G6-jI7xRTuKDFEV9zFRutjG8sMbyhwMOkZliNkwQRAgBCiEoL7JHpbo26+uTQm4Nzki+4rH4PbuyFv3Ux7Bqmwg92FKqdw63Uf49UF9rHsXcco+5ZkDI7gvuOvojoLjwhL2U4vZkQ4-MyZcB4Cj5p0hudNJ21MNnHAOfCZkDztpaB+e0E0wusdWWGei9aS0iXrPpfE0XXLszCutdLf2jJmD4OGBc-F7z5XVE9eYcZkbpXJudc2DhTjx7BIrdi+t5L+3IWLs0Gd4rnnbuAbPXS8iEXiMTjI1D0sVn-vTrDYy8H8E4f48I2q9QZQdWXSiBR9YqxrgbFXioqny7FRTR-ZOJcRQpeSKpC0IcGLIo4u1fp5rhRcjxwAtrw7hvKPm-d7bwb2XmMS-d+nHD-Pfet0D678P4fbfBckS4HjofciZ-q-Z4rBfU+l+TEbw5lvu+R+Fm38q9VR+lVqq36URHK2FKFrVaflVR-z8iObabObqbZ3VKnVTncTEhp0bHjfipD-GdL-A-ZqYaL1AAz-KA8-FSJ-ENYTd-RAkAgwdmD5IIccP7JA6A7-c5dAgUTAwArA8-Aec4c3aISA4A7A0AkgnCMHCgypSgrfbgViX-DjDXBzLAxg7-Zgn-WjNg+goAypJg2KPAgeUrXdTgoQ7gkQ7QccRYcQt-QgpQ07eBDzabBHbDCQ5Qrgg-fWdQkRdbSQj-Jgi6M0GbVYAQog7gy-PbI6Sw5QpgmwpNewqglApEILOvdUFwnQtwgOEnAobwqQg-ZRTSftIw-xLfEIoKIDcI5A4QTsWfUwG-e-W-VVZESIovfQi4QwlI3I-nNIWQoSdTXCSfPfVvSIwomgmTUoxfffFA7dUwHgkqBQoDCvcvLQSvUvLfBojnFgyIFHDo9osvKvQjNAC3fmTQ1NWxXPHPbPbo8Y9XSY1okPJPJGCPb-OfRWWaMApQFHFYsPJPbounKojTL3ftCnc9JnLfToXA2QkvFjAnDHN2G43RdAv7GHaHKHNccRWCMgpCQ-dyD7QEzya40+ceQ7G7SElQtPNQsw7rNFcbPrNUa47+EnFo7jMhTE1QLEp43OVQzIswhHeTHMSrHYZPPE+rTzc0c4BLY5HLE5LfIXLYvon0MLKmPzKLb-JkpooaM43dSzczMDD1T4bk7YoaeTO1BTK1BTRk6kpw5wBDPjWsEHLkuU2bUYP7IgcGLUxSIgONT4fvUUw-JLXLOk3EmzYzIyQtCzHTQUyTUQBeDw1Ua079HgG6H9LfaGDrYbdEhnF5R9IxFQr0obYBa0g9cM4U4MgPHQGtPWAdcCT0x6b00M-tBhPDJDK0RMpaEMmM1M9tEOCOLtb-KM6PFM3dBoCs2uBoLMqPNLXM8s9NRQFQLNZsmst9Tres-ZSNGNK2C-USNs5MzskFf1CFcFMFAcnM30y1MDG0vTCc6MqchAPSXSHSMwPSfUksusxcz0AuVwEEYufOec0soc7VdRZKXVCYYs8AsefIFxBYBERWe8p8xtK8v-MuW8nxGVIpPJb8z06898pY7VQlX0AlckhBN87uQCx5QVEVYBf+IM-8yClxeZOZR4e4eZP8iCxuKCy1XMCrEk0Y2zcVV-AVE0sin4oirxEi9lIdeMhgT0y03Zaix5V1SleBalBi1ZZiy1PFb0Xij0UVA-SipilxJEibHrCixilBbipchZFC9CtCzioFGSs8vVc8sC4S6SlxMckcsFQSlAzS5yFStit1di80wypxYy1JFJdJNAMCn5DLKSn1B9f0t5b-BypsJyFxOkvLZlLfDywy7yoEt7QE+ywPQKnxWY6Y7Pbgfy8KpylxVCuStC4UgKhK2ZMYggTK3ARYOKozKhRK4HIHfwYIfUtKgq2ZA+eMdxWK9y+KiqxpBtNeJEetVK+qnRFxH3Lq3Kuq-Kjq8pNHCMsq9qhcTqqAyglQ8q-qyJb8pzH8yIfy8w5-DPHxGy2ySyda+0tUitWw5JEWYWcWZgxahHdUw6ZJWJC67gVKpapHFxC8+FFKc07a5akbVIk-NIrRdym6q-O6txP6ra763anxUWfasWFgcQY6uAn6-Rd+dgF+D+cEH45626-RdStG0Y5G6GnGWoqcfIzGoGnGBqLbDbDGwGhaDhZctc1c7SSG+UlawmwQxmvGsms6hWfDNMxDUmk6na8mtm6UyUm1Wm06+m4hHEsWyalmkWmRZjGWziL67ml6imY-N62-AGhWlGnGLPaK2xIWnm1mzWl3Q2pGyWkbbULUbhLhXhA-fG3mi+EU+2h20QXWxWveZq2tJq429WrGtmS282zhJ2+WqGgmn23zSLPzZ2jWtmYEUEaOoEQUCO72mRQufc5O3c66r24OpOrIVOCZNONWoO22tmP5Qs9tCWjOwumRRE3rHsBOzOtw5ncnXHWuiulA4dCCOMsugu-WtmFWSEtiZu7umRA68GsGiWAeqWlAp9J9Tuum02h4+egaQO2eimMO1e+mJe4Wue3uzZDiMqk216AM15Fy-O5emqL4j4tcMscekbeYOOiEMECEa+9aaeKeTaXaJ+mqK5L+2aD+tyRhDM-DX+lCEYzowY1ILmruiesIYiUiGBiTIBtsTNDNZs5Bmeze+KNSzBp6-emqZLPBxe62nBtyP1EhqKDevWqBxkLyYE97bB8uwemwNJda6ygOwh+hyh8yEGw60etBihm+qm-SbSQRuhyB-hpSXU0Gc0BBtTfuYSIok+9Bmqdi1i6lZgaRhyHezRuWth0RwiL9d0t0q6T23RmqMTUTETCidRyDDCGxhRvhwiHsqNbsqx0CIeQeeRtR8hl2tydu3xqCFxnyAUoJgJp8RbF8LxyOtsF+3aN+7aPe9hm+lrc8M8S8Ox7xlCRxzJu2HR0+tyUO9kyLYx3JlCDfHvAJ47Cp4oIpxRvJqUpTaU3h9JtsZU+sasVpgJouVOg8kEDpjxvp5YDp96N6NID6QzDpjuaq-eDpmYuxaKrakarymqB0G0ZZk1eZvq0apZ0hbEnZiGXqxyhqlCOG2Gt+IcfIiyqSGSzoXOm5hCrC-qHCqYFQFcJYZ51YMMLATCtgpCsyWOh+mO8ENKV8757CjkK4DbCF+0zcjsxc0GuFgZ4sx09vcQMFprZJ5rMoT0g5xJVFsZHO7O5OLFzyq035zEMl9EDS7FmiMFzyYK6h+0gUcfI0mlu+gF++hlm2hU0l5h2y1JDllmkbJKoV14Rk0UlkwV3czpvcguUVzYnk0qMFkkpVg4LkuVsU0qPkkCWoS+2HFcaHc0sV3g1k3597Wl8YfI-E0w2AmS3TGcsDa4nMg5xVwx-Rq6BEFE4nTw2F66N1100Y2wPwr1sFymoRlc-s7-GEgkr4YN6mkN9c64wvK1hrY8YUe6+66EsEnuezeknNlwc0jyG852bN4IEqwHYIH44osHLAbfOa2tlaa40g04zDGt1l1toobovgzNsF4msJsC1grt35hPNYxPfIpwOQytlcbt63Y3KQI48dxt6DbtpsxspBxQboxo9V9jbt-AHKndwgUdhY2XR5rgZ8h8s9lGDYw9rdY9jk299tjY1feV2F15kMd5t59Yg-Ho5k3g59kBoYyvfIlcY434jTMF-98DnADIpN8w7NnluDiySI37JdVAMDphtDzF7-KInOcxuBix2qSIwNjvbD2B8TPDvZ3Q2e+YMDqVmjsCvQwkgw6jlO6Vg8uj9Pa149v2rjooH47OlyYDmIMDnhbj9e3Qzd-8sF-F8ZAl1gJg8Tt8yT5OGTm54gkD77bNqTzTwlnAk49TxTvFpT8Zc-V4yowVrTgz2TnAkz44szwz8zn49gG27D+z5T8-ftiA35lzoznA9z--TzuzgLyz0A0RpYfT257z4Lyjm1rznOrfML5T1z7-eL6TiLmwK+Q0uVjTwLlT-PRI+fZL+zmvaMqloT324TnjmvMfTWQVkTs2ir0fGXJlpwJjyV5j84Srxr6rsD6J2eGJjrtXDLmrsxkj8xlLGYTr8dIbsj3Dsbqryb1Dta9DuNTcbHD3LUBbjapbmvZUTwx3GtiDtoyD-PHboj9b35g7sByXZF+vC7MDj5t919j9tLk7tbroO799+7p7hQa79UM7lNu9gpsbl7m7v7rVx88H89x8q74H37t7wdyHhHi9-aH7vb7drAXd9H-d7b1bkHuH-7vd7KrH47nH2Hk9MH5dlsldmvJ7Sk1IQV5BldlBtd-PGn9PeninhnrNanyN0w9n1d-nyPdsmPIPJd-npn3E2gfwhvTVjYVADn+XiX93XHp3QdhX8X1nJtn7L0UX8X9Xs3TXvvHXxnqns3VXJD9guXsXk33XM3-mI3ynrns3FfUUvgAAXVd6AA\",\r\n    camera: {\r\n      position: [\r\n        1.2556252511652628,\r\n        -1.8845128318655633,\r\n        -0.006335531414734807\r\n      ],\r\n      focus: [1.2637327202535016, 0, -0.09982552431336995]\r\n    },\r\n    thread: []\r\n  }\r\n];\r\n","import LZString from \"lz-string\";\r\nimport { createStore } from \"redux\";\r\nimport comments from \"../comments\";\r\nimport {\r\n  ADD_COMMENT,\r\n  ADD_REPLY,\r\n  ATTACH_DRAW_OVER,\r\n  ATTACH_FILE,\r\n  ATTACH_PIN,\r\n  BEGIN_COMMENT,\r\n  CANCEL_COMMENT,\r\n  CHANGE_CAMERA,\r\n  CLOSE_THREAD,\r\n  DESELECT_COMMENT,\r\n  OPEN_THREAD,\r\n  RESOLVE_COMMENT,\r\n  RESOLVE_REPLY,\r\n  SELECT_COMMENT,\r\n  UNATTACH_DRAW_OVER,\r\n  UNATTACH_FILE,\r\n  UNATTACH_PIN,\r\n  UPDATE_DRAWING,\r\n  MOVE_CAMERA\r\n} from \"./actions\";\r\n\r\nexport const CURSOR = {\r\n  DEFAULT: \"pointer\",\r\n  DRAWOVER: \"drawover\",\r\n  PIN: \"pin\"\r\n};\r\n\r\nexport const INITIAL_CAMERA_POSITION = [0, 2, 4];\r\n\r\nconst initialState = {\r\n  cursor: CURSOR.DEFAULT,\r\n  activeCameraPosition: { position: INITIAL_CAMERA_POSITION, focus: [0, 0, 0] },\r\n  cameraPosition: { position: INITIAL_CAMERA_POSITION, focus: [0, 0, 0] },\r\n  isCommenting: false,\r\n  fileIsAttached: false,\r\n  drawOverIsAttached: false,\r\n  pinIsAttached: false,\r\n  maxCommentId: 3,\r\n  comments: comments\r\n};\r\n\r\nfunction rootReducer(state = initialState, { type, data }) {\r\n  function cameraPositionEquals(camera1, camera2) {\r\n    return (\r\n      camera1 === camera2 ||\r\n      (camera1 &&\r\n        camera2 &&\r\n        camera1.position.every(\r\n          (p, i) => Math.abs(p - camera2.position[i]) < 1e-10\r\n        ) &&\r\n        camera1.focus.every((f, i) => Math.abs(f - camera2.focus[i]) < 1e-10))\r\n    );\r\n  }\r\n\r\n  switch (type) {\r\n    case CHANGE_CAMERA:\r\n      const selectedComment = state.comments.find(\r\n        ({ id }) => id === state.selectedCommentId\r\n      );\r\n      if (\r\n        selectedComment &&\r\n        !cameraPositionEquals(selectedComment.camera, data)\r\n      ) {\r\n        return {\r\n          ...state,\r\n          cameraPosition: data,\r\n          selectedCommentId: null,\r\n          drawing: null\r\n        };\r\n      }\r\n      return { ...state, activeCameraPosition: null, cameraPosition: data };\r\n    case MOVE_CAMERA:\r\n      return { ...state, activeCameraPosition: data };\r\n    case SELECT_COMMENT:\r\n      return {\r\n        ...state,\r\n        selectedCommentId: data.id,\r\n        drawing:\r\n          data.drawOver &&\r\n          JSON.parse(LZString.decompressFromEncodedURIComponent(data.drawOver))\r\n      };\r\n    case DESELECT_COMMENT:\r\n      return { ...state, selectedCommentId: null, drawing: null };\r\n    case RESOLVE_COMMENT:\r\n      return {\r\n        ...state,\r\n        comments: state.comments.filter(({ id }) => id !== data.id)\r\n      };\r\n    case RESOLVE_REPLY:\r\n      return {\r\n        ...state,\r\n        comments: state.comments.map(comment =>\r\n          comment.id === data.comment.id\r\n            ? {\r\n                ...comment,\r\n                thread: comment.thread.filter(({ id }) => id !== data.reply.id)\r\n              }\r\n            : comment\r\n        )\r\n      };\r\n    case BEGIN_COMMENT:\r\n      return { ...state, isCommenting: true };\r\n    case ATTACH_FILE:\r\n      return { ...state, fileIsAttached: true };\r\n    case UNATTACH_FILE:\r\n      return { ...state, fileIsAttached: false, attachedFile: null };\r\n    case ATTACH_DRAW_OVER:\r\n      return { ...state, drawOverIsAttached: true, cursor: CURSOR.DRAWOVER };\r\n    case UNATTACH_DRAW_OVER:\r\n      return {\r\n        ...state,\r\n        drawOverIsAttached: false,\r\n        drawing: null,\r\n        cursor: CURSOR.DEFAULT\r\n      };\r\n    case ATTACH_PIN:\r\n      return { ...state, pinIsAttached: true, cursor: CURSOR.PIN };\r\n    case UNATTACH_PIN:\r\n      return {\r\n        ...state,\r\n        pinIsAttached: false,\r\n        attachedPin: null,\r\n        cursor: CURSOR.DEFAULT\r\n      };\r\n    case CANCEL_COMMENT:\r\n      return {\r\n        ...state,\r\n        isCommenting: false,\r\n        fileIsAttached: false,\r\n        attachedFile: null,\r\n        drawOverIsAttached: false,\r\n        drawing: null,\r\n        pinIsAttached: false,\r\n        pin: null,\r\n        cursor: CURSOR.DEFAULT\r\n      };\r\n    case ADD_COMMENT:\r\n      return {\r\n        ...state,\r\n        maxCommentId: 1 + state.maxCommentId,\r\n        comments: [\r\n          {\r\n            id: 1 + state.maxCommentId,\r\n            author: \"Greg Gottesman\",\r\n            date: new Date().getTime(),\r\n            text: data,\r\n            file: state.file,\r\n            drawOver: LZString.compressToEncodedURIComponent(\r\n              JSON.stringify(state.drawing)\r\n            ),\r\n            pin: state.pin,\r\n            camera: state.cameraPosition,\r\n            thread: []\r\n          },\r\n          ...state.comments\r\n        ]\r\n      };\r\n    case ADD_REPLY:\r\n      return {\r\n        ...state,\r\n        maxCommentId: 1 + state.maxCommentId,\r\n        comments: state.comments.map(comment =>\r\n          comment.id === data.comment.id\r\n            ? {\r\n                ...comment,\r\n                thread: [\r\n                  {\r\n                    id: 1 + state.maxCommentId,\r\n                    author: \"Greg Gottesman\",\r\n                    date: new Date().getTime(),\r\n                    text: data.text,\r\n                    file: state.file,\r\n                    drawOver: LZString.compressToEncodedURIComponent(\r\n                      JSON.stringify(state.drawing)\r\n                    )\r\n                  },\r\n                  ...comment.thread\r\n                ]\r\n              }\r\n            : comment\r\n        )\r\n      };\r\n    case OPEN_THREAD:\r\n      return { ...state, activeThreadId: data.id };\r\n    case CLOSE_THREAD:\r\n      return { ...state, activeThreadId: null };\r\n    case UPDATE_DRAWING:\r\n      return { ...state, drawing: data };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default createStore(rootReducer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { unattachDrawOver, unattachPin } from \"../../redux/actions\";\r\nimport { CURSOR } from \"../../redux/store\";\r\nimport \"./CommentsColumnHeader.css\";\r\n\r\nfunction CommentsColumnHeader({\r\n  headerText,\r\n  iconImage,\r\n  className,\r\n  redrawEnabled,\r\n  repinEnabled,\r\n  onRedraw,\r\n  onRepin,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      className={\r\n        \"comments-column-header-row\" + (className ? \" \" + className : \"\")\r\n      }\r\n      {...props}\r\n    >\r\n      <div>\r\n        {iconImage && (\r\n          <img\r\n            className=\"comments-column-header-icon-image\"\r\n            src={iconImage}\r\n            alt=\"Back icon\"\r\n          />\r\n        )}\r\n        <span className=\"comments-column-header-text\">{headerText}</span>\r\n      </div>\r\n      {!iconImage && redrawEnabled && (\r\n        <button\r\n          className=\"comments-column-header-redo-button\"\r\n          onClick={onRedraw}\r\n        >\r\n          Redraw\r\n        </button>\r\n      )}\r\n      {!iconImage && repinEnabled && (\r\n        <button\r\n          className=\"comments-column-header-redo-button\"\r\n          onClick={onRepin}\r\n        >\r\n          Repin\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  ({ cursor, drawing, pin }) => ({\r\n    redrawEnabled: cursor === CURSOR.DRAWOVER && drawing,\r\n    repinEnabled: cursor === CURSOR.PIN && pin\r\n  }),\r\n  dispatch => ({\r\n    onRedraw: () => {\r\n      dispatch(unattachDrawOver());\r\n    },\r\n    onRepin: () => {\r\n      dispatch(unattachPin());\r\n    }\r\n  })\r\n)(CommentsColumnHeader);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./Comment.css\";\r\nimport { TopRow } from \"./TopRow/TopRow\";\r\nimport { CURSOR } from \"../../redux/store\";\r\nimport { unattachDrawOver } from \"../../redux/actions\";\r\n\r\nfunction Comment({\r\n  comment: { text, drawOver, pin, ...comment },\r\n  selected,\r\n  redrawEnabled,\r\n  onRedraw,\r\n  onResolve,\r\n  children,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div className={\"comment\" + (selected ? \" selected\" : \"\")} {...props}>\r\n      <div className=\"comment-content\">\r\n        <TopRow\r\n          {...comment}\r\n          redrawEnabled={redrawEnabled}\r\n          onRedraw={onRedraw}\r\n          onResolve={onResolve}\r\n        />\r\n        <p className=\"comment-text\">{text}</p>\r\n        {children}\r\n      </div>\r\n      <div className=\"comment-flag-row\">\r\n        {drawOver && (\r\n          <img\r\n            className=\"comment-flag\"\r\n            src=\"assets/drawover-flag.svg\"\r\n            alt=\"Drawover flag\"\r\n          />\r\n        )}\r\n        {pin && (\r\n          <img\r\n            className=\"comment-flag\"\r\n            src=\"assets/pin-flag.svg\"\r\n            alt=\"Pin flag\"\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (\r\n    { cursor, activeThreadId, selectedCommentId, drawing },\r\n    { comment: { id } }\r\n  ) => ({\r\n    selected: id === selectedCommentId,\r\n    redrawEnabled:\r\n      id === activeThreadId && cursor === CURSOR.DRAWOVER && drawing\r\n  }),\r\n  dispatch => ({\r\n    onRedraw: () => {\r\n      dispatch(unattachDrawOver());\r\n    }\r\n  })\r\n)(Comment);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { cancelComment, openThread, selectComment } from \"../../redux/actions\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport \"./MainComment.css\";\r\n\r\nfunction MainComment({\r\n  comment: { thread, ...comment },\r\n  onClickReply,\r\n  ...props\r\n}) {\r\n  function replyLabel(thread) {\r\n    if (thread && thread.length > 0) {\r\n      if (thread.length > 1) {\r\n        return `${thread.length} Replies`;\r\n      } else {\r\n        return \"1 Reply\";\r\n      }\r\n    } else {\r\n      return \"Reply\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Comment comment={comment} {...props}>\r\n      <button\r\n        className=\"reply-button\"\r\n        onClick={event => {\r\n          event.stopPropagation();\r\n          onClickReply();\r\n        }}\r\n      >\r\n        {replyLabel(thread)}\r\n      </button>\r\n    </Comment>\r\n  );\r\n}\r\n\r\nexport default connect(null, (dispatch, { comment }) => ({\r\n  onClickReply: () => {\r\n    dispatch(cancelComment());\r\n    dispatch(selectComment(comment));\r\n    dispatch(openThread(comment));\r\n  }\r\n}))(MainComment);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\nimport {\r\n  addComment,\r\n  cancelComment,\r\n  deselectComment,\r\n  resolveComment,\r\n  selectComment\r\n} from \"../../redux/actions\";\r\nimport CommentInput from \"../CommentInput/CommentInput\";\r\nimport CommentsColumnHeader from \"../CommentsColumnHeader/CommentsColumnHeader\";\r\nimport MainComment from \"../MainComment/MainComment\";\r\nimport \"./MainThread.css\";\r\n\r\nfunction MainThread({\r\n  isCommenting,\r\n  comments,\r\n  onAddComment,\r\n  onClickComment,\r\n  onResolveComment,\r\n  ...props\r\n}) {\r\n  const [resolveCommentId, setResolveCommentId] = useState();\r\n\r\n  return (\r\n    <div id=\"comment-column\" {...props}>\r\n      <div id=\"input-column\">\r\n        <CommentsColumnHeader headerText=\"Comments\" />\r\n        <CommentInput pinAttachable mainThread onClickSubmit={onAddComment} />\r\n      </div>\r\n      <div className={\"scroll-column\" + (isCommenting ? \" focused\" : \"\")}>\r\n        {comments.map(comment => (\r\n          <MainComment\r\n            key={comment.id}\r\n            comment={comment}\r\n            onClick={() => onClickComment(comment)}\r\n            onResolve={() => setResolveCommentId(comment.id)}\r\n          />\r\n        ))}\r\n        {isCommenting && <div id=\"comment-vignette\"></div>}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={resolveCommentId}\r\n        onCancel={() => setResolveCommentId(null)}\r\n        onResolve={() => {\r\n          onResolveComment(comments.find(({ id }) => id === resolveCommentId));\r\n          setResolveCommentId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  ({ isCommenting, selectedCommentId, comments }) => ({\r\n    isCommenting,\r\n    selectedComment: comments.find(({ id }) => id === selectedCommentId),\r\n    comments\r\n  }),\r\n  dispatch => ({\r\n    onAddComment: comment => {\r\n      dispatch(addComment(comment));\r\n      dispatch(cancelComment());\r\n    },\r\n    selectComment: comment => dispatch(selectComment(comment)),\r\n    deselectComment: () => dispatch(deselectComment()),\r\n    resolveComment: comment => dispatch(resolveComment(comment))\r\n  }),\r\n  (\r\n    { selectedComment, ...stateProps },\r\n    { selectComment, deselectComment, resolveComment, ...dispatchProps },\r\n    ownProps\r\n  ) => ({\r\n    ...ownProps,\r\n    ...stateProps,\r\n    ...dispatchProps,\r\n    onClickComment: comment =>\r\n      comment !== selectedComment ? selectComment(comment) : deselectComment(),\r\n    onResolveComment: comment => {\r\n      if (comment === selectedComment) {\r\n        deselectComment();\r\n      }\r\n      resolveComment(comment);\r\n    }\r\n  })\r\n)(MainThread);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\nimport {\r\n  addReply,\r\n  cancelComment,\r\n  closeThread,\r\n  deselectComment,\r\n  resolveComment,\r\n  resolveReply,\r\n  selectComment\r\n} from \"../../redux/actions\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport CommentInput from \"../CommentInput/CommentInput\";\r\nimport CommentsColumnHeader from \"../CommentsColumnHeader/CommentsColumnHeader\";\r\nimport \"./Thread.css\";\r\n\r\nfunction Thread({\r\n  comment,\r\n  isCommenting,\r\n  onReturn,\r\n  onClickComment,\r\n  onClickReply,\r\n  onAddReply,\r\n  onResolveComment,\r\n  ...props\r\n}) {\r\n  const [resolveCommentId, setResolveCommentId] = useState();\r\n\r\n  return comment ? (\r\n    <div id=\"thread-column\" {...props}>\r\n      <CommentsColumnHeader\r\n        className=\"thread-column-header\"\r\n        iconImage=\"assets/left-arrow.svg\"\r\n        headerText=\"Back to all comments\"\r\n        onClick={onReturn}\r\n      />\r\n      <Comment\r\n        comment={comment}\r\n        onClick={() => onClickComment(comment)}\r\n        onResolve={() => setResolveCommentId(comment.id)}\r\n      >\r\n        <CommentInput onClickSubmit={text => onAddReply(comment, text)} />\r\n      </Comment>\r\n      <div className=\"scroll-column\">\r\n        {comment &&\r\n          comment.thread.map(reply => (\r\n            <Comment\r\n              key={reply.id}\r\n              comment={reply}\r\n              onClick={() => onClickReply(reply)}\r\n              onResolve={() => setResolveCommentId(reply.id)}\r\n            />\r\n          ))}\r\n        {isCommenting && <div id=\"reply-vignette\"></div>}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={resolveCommentId}\r\n        onCancel={() => setResolveCommentId(null)}\r\n        onResolve={() => {\r\n          onResolveComment(\r\n            [comment, ...comment.thread].find(\r\n              ({ id }) => id === resolveCommentId\r\n            )\r\n          );\r\n          setResolveCommentId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nfunction mergeProps(\r\n  { selectedComment, ...stateProps },\r\n  dispatchProps,\r\n  ownProps\r\n) {\r\n  const {\r\n    selectComment,\r\n    deselectComment,\r\n    resolveComment,\r\n    resolveReply,\r\n    ...restOfDispatchProps\r\n  } = dispatchProps;\r\n\r\n  return {\r\n    ...ownProps,\r\n    ...stateProps,\r\n    ...restOfDispatchProps,\r\n    onClickComment: comment => {\r\n      if (comment !== selectedComment) {\r\n        selectComment(comment);\r\n      }\r\n    },\r\n    onClickReply: comment =>\r\n      comment !== selectedComment ? selectComment(comment) : deselectComment(),\r\n    onResolveComment: comment => {\r\n      if (comment === selectedComment) {\r\n        deselectComment();\r\n      }\r\n      if (comment === ownProps.comment) {\r\n        resolveComment(comment);\r\n      } else {\r\n        resolveReply(ownProps.comment, comment);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  ({ isCommenting, selectedCommentId, comments }) => ({\r\n    isCommenting,\r\n    selectedComment: comments\r\n      .flatMap(comment => [comment, ...comment.thread])\r\n      .find(({ id }) => id === selectedCommentId)\r\n  }),\r\n  dispatch => ({\r\n    onReturn: () => {\r\n      dispatch(cancelComment());\r\n      dispatch(closeThread());\r\n    },\r\n    selectComment: comment => dispatch(selectComment(comment)),\r\n    deselectComment: () => dispatch(deselectComment()),\r\n    resolveComment: comment => dispatch(resolveComment(comment)),\r\n    resolveReply: (comment, reply) => dispatch(resolveReply(comment, reply)),\r\n    onAddReply: (comment, text) => {\r\n      dispatch(addReply(comment, text));\r\n      dispatch(cancelComment());\r\n    }\r\n  }),\r\n  mergeProps\r\n)(Thread);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./CommentsColumn.css\";\r\nimport MainThread from \"./MainThread/MainThread\";\r\nimport Thread from \"./Thread/Thread\";\r\n\r\nfunction CommentsColumn({ activeThread, ...props }) {\r\n  return (\r\n    <div id=\"comments-row\">\r\n      <MainThread\r\n        className={\r\n          \"main-thread\" + (activeThread ? \" main-thread-inactive\" : \"\")\r\n        }\r\n        {...props}\r\n      />\r\n      <Thread\r\n        className={\r\n          \"active-thread\" + (!activeThread ? \" active-thread-inactive\" : \"\")\r\n        }\r\n        comment={activeThread}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  ({ activeThreadId, comments }) => ({\r\n    activeThread: comments.find(({ id }) => id === activeThreadId)\r\n  }),\r\n  () => ({})\r\n)(CommentsColumn);\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { HotKeys } from \"react-hotkeys\";\r\nimport \"./DrawCanvas.css\";\r\n\r\nfunction handleUndo(isPainting, setPainting, value, onChange) {\r\n  return () => {\r\n    if (isPainting) {\r\n      setPainting(false);\r\n    }\r\n    value = value.filter(line => line.length > 1);\r\n    if (value.length > 0) {\r\n      onChange && onChange(value.slice(0, value.length - 1));\r\n    }\r\n  };\r\n}\r\n\r\nfunction handleClick(setPainting, onChange, value, ref) {\r\n  return ({ nativeEvent }) => {\r\n    const { offsetX, offsetY } = nativeEvent;\r\n    setPainting(true);\r\n    onChange &&\r\n      onChange([\r\n        ...value,\r\n        [\r\n          {\r\n            x: offsetX / ref.current.clientWidth,\r\n            y: offsetY / ref.current.clientHeight\r\n          }\r\n        ]\r\n      ]);\r\n  };\r\n}\r\n\r\nfunction handleDrag(isPainting, value, onChange, ref) {\r\n  return ({ nativeEvent }) => {\r\n    if (isPainting) {\r\n      const { offsetX, offsetY } = nativeEvent;\r\n      if (value.length > 0) {\r\n        const currLine = value[value.length - 1];\r\n        onChange &&\r\n          onChange([\r\n            ...value.slice(0, value.length - 1),\r\n            [\r\n              ...currLine,\r\n              {\r\n                x: offsetX / ref.current.clientWidth,\r\n                y: offsetY / ref.current.clientHeight\r\n              }\r\n            ]\r\n          ]);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction convertTouchToMouse(handler) {\r\n  return ({ nativeEvent }) => {\r\n    const canvasRect = nativeEvent.target.getBoundingClientRect();\r\n    const touch = nativeEvent.targetTouches[0];\r\n    handler({\r\n      nativeEvent: {\r\n        offsetX: touch.pageX - canvasRect.left,\r\n        offsetY: touch.pageY - canvasRect.top\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nfunction paint(canvas, ctx, value, lineWidth, lineColor) {\r\n  if (ctx) {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    for (const line of value) {\r\n      const [{ x, y }, ...rest] = line;\r\n\r\n      ctx.lineJoin = \"round\";\r\n      ctx.lineCap = \"round\";\r\n      ctx.lineWidth = lineWidth;\r\n      ctx.strokeStyle = lineColor;\r\n\r\n      ctx.beginPath();\r\n      ctx.moveTo(x * canvas.width, y * canvas.height);\r\n      for (const { x, y } of rest) {\r\n        ctx.lineTo(x * canvas.width, y * canvas.height);\r\n      }\r\n      ctx.stroke();\r\n    }\r\n  }\r\n}\r\n\r\nexport function DrawCanvas({\r\n  lineWidth = 3,\r\n  lineColor = \"black\",\r\n  value,\r\n  onChange,\r\n  ...props\r\n}) {\r\n  value = value || [];\r\n  const ref = useRef();\r\n  const width = 1024;\r\n  const height = 1024;\r\n  const [ctx, setContext] = useState();\r\n  const [isPainting, setPainting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!ctx) {\r\n      setContext(ref.current.getContext(\"2d\"));\r\n    }\r\n  }, [ref, ctx]);\r\n  useEffect(() => paint(ref.current, ctx, value, lineWidth, lineColor), [\r\n    ref,\r\n    ctx,\r\n    value,\r\n    lineWidth,\r\n    lineColor\r\n  ]);\r\n\r\n  return (\r\n    <HotKeys\r\n      allowChanges\r\n      className=\"draw-canvas-hotkeys\"\r\n      keyMap={{ undo: [\"command+z\", \"ctrl+z\", \"backspace\"] }}\r\n      handlers={{\r\n        undo: handleUndo(isPainting, setPainting, value, onChange)\r\n      }}\r\n    >\r\n      <canvas\r\n        ref={ref}\r\n        className=\"draw-canvas\"\r\n        width={width}\r\n        height={height}\r\n        onMouseDown={handleClick(setPainting, onChange, value, ref)}\r\n        onMouseMove={handleDrag(isPainting, value, onChange, ref)}\r\n        onMouseUp={() => setPainting(false)}\r\n        onTouchStart={convertTouchToMouse(\r\n          handleClick(setPainting, onChange, value, ref)\r\n        )}\r\n        onTouchMove={convertTouchToMouse(\r\n          handleDrag(isPainting, value, onChange, ref)\r\n        )}\r\n        onTouchEnd={() => setPainting(false)}\r\n        onTouchCancel={handleUndo(isPainting, setPainting, value, onChange)}\r\n        {...props}\r\n      />\r\n    </HotKeys>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { DrawCanvas } from \"../DrawCanvas/DrawCanvas\";\r\nimport { updateDrawing } from \"../redux/actions\";\r\nimport { CURSOR } from \"../redux/store\";\r\nimport \"./DrawOver.css\";\r\n\r\nfunction DrawOver({ interactive, drawing, onChange, children, ...props }) {\r\n  return (\r\n    <div id=\"sketch-container\" {...props}>\r\n      {children}\r\n      <div id=\"sketch-canvas\" className={!interactive ? \"static\" : \"\"}>\r\n        <DrawCanvas\r\n          lineWidth={2}\r\n          lineColor=\"#ff0035\"\r\n          value={drawing}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  ({ cursor, drawing }) => ({\r\n    interactive: cursor === CURSOR.DRAWOVER,\r\n    drawing\r\n  }),\r\n  dispatch => ({ onChange: drawing => dispatch(updateDrawing(drawing)) })\r\n)(DrawOver);\r\n","import React, { useState } from \"react\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header() {\r\n  const [eyeOpen, setEyeOpen] = useState(true);\r\n\r\n  return (\r\n    <div className=\"head\">\r\n      <button className=\"back-button\">Back</button>\r\n      <div className=\"button-row\">\r\n        <img\r\n          className=\"profile\"\r\n          alt=\"Greg\"\r\n          src=\"https://assets.website-files.com/5d3152346d95065922960b3a/5db769036b1dff3418bffd20_Greg.jpg\"\r\n        />\r\n        <button className=\"AR\" onClick={() => alert(\"more features to come\")}>\r\n          AR\r\n        </button>\r\n        <button className=\"share\" onClick={() => alert(\"share link copied\")}>\r\n          Share\r\n        </button>\r\n        <button className=\"eye\" onClick={() => setEyeOpen(!eyeOpen)}>\r\n          <img\r\n            src={`assets/eye-${eyeOpen ? \"open\" : \"closed\"}.svg`}\r\n            alt=\"Show/hide pins icon\"\r\n          />\r\n        </button>\r\n      </div>\r\n      <div className=\"greeting-row\">\r\n        <span>Nike Zoom Prototype 1</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { Suspense, useRef, useEffect } from \"react\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { Canvas, useThree, extend, useLoader } from \"react-three-fiber\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { Box3, Vector3, Color, sRGBEncoding } from \"three\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeCamera } from \"./redux/actions\";\r\nimport { INITIAL_CAMERA_POSITION } from \"./redux/store\";\r\n\r\nextend({ OrbitControls });\r\n\r\nfunction Model({ path, ...props }) {\r\n  const gltf = useLoader(GLTFLoader, path);\r\n\r\n  useEffect(() => {\r\n    var mroot = gltf.scene;\r\n\r\n    //Rescale the object to normalized space\r\n    var bbox = new Box3().setFromObject(mroot);\r\n    mroot.scale.multiplyScalar(\r\n      5 / Math.max(...bbox.getSize(new Vector3()).toArray())\r\n    );\r\n\r\n    //Centering Object\r\n    bbox.setFromObject(mroot);\r\n    mroot.position.copy(bbox.getCenter(new Vector3())).multiplyScalar(-1);\r\n  }, [gltf]);\r\n\r\n  return <primitive object={gltf.scene} {...props} />;\r\n}\r\n\r\nfunction Controls({ cameraPosition, onOrbitChange, ...props }) {\r\n  const controlsRef = useRef();\r\n  useEffect(() => {\r\n    const controls = controlsRef.current;\r\n\r\n    if (cameraPosition) {\r\n      const { position, focus } = cameraPosition;\r\n      controls.object.position.set(...position);\r\n      controls.target.set(...focus);\r\n    }\r\n\r\n    controls.addEventListener(\"change\", onOrbitChange);\r\n    controls.update();\r\n\r\n    return () => controls.removeEventListener(\"change\", onOrbitChange);\r\n  }, [cameraPosition, controlsRef, onOrbitChange]);\r\n\r\n  const {\r\n    camera,\r\n    gl: { domElement }\r\n  } = useThree();\r\n  return (\r\n    <orbitControls ref={controlsRef} args={[camera, domElement]} {...props} />\r\n  );\r\n}\r\n\r\nfunction ModelRenderer({ cameraPosition, onOrbitChange, ...props }) {\r\n  return (\r\n    <Canvas\r\n      camera={{ fov: 60, near: 1, position: INITIAL_CAMERA_POSITION }}\r\n      onCreated={({ gl, scene }) => {\r\n        gl.outputEncoding = sRGBEncoding;\r\n        scene.background = new Color(0xfafafa);\r\n      }}\r\n      {...props}\r\n    >\r\n      <Controls\r\n        cameraPosition={cameraPosition}\r\n        minDistance={1}\r\n        maxDistance={50}\r\n        onOrbitChange={onOrbitChange}\r\n      />\r\n      <ambientLight />\r\n      <Suspense fallback={null}>\r\n        <Model path=\"models/gltf/nike_shoe/scene.gltf\" />\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  ({ comments, selectedCommentId, activeCameraPosition }) => ({\r\n    cameraPosition: comments.reduce(\r\n      (acc, comment) =>\r\n        comment.id === selectedCommentId ? comment.camera : acc,\r\n      activeCameraPosition\r\n    )\r\n  }),\r\n  dispatch => ({\r\n    onOrbitChange: ({\r\n      target: {\r\n        object: { position },\r\n        target: focus\r\n      }\r\n    }) =>\r\n      dispatch(\r\n        changeCamera({ position: position.toArray(), focus: focus.toArray() })\r\n      )\r\n  })\r\n)(ModelRenderer);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport CommentsColumn from \"./CommentsColumn/CommentsColumn\";\r\nimport DrawOver from \"./DrawOver/DrawOver\";\r\nimport Header from \"./Header/Header\";\r\nimport \"./index.css\";\r\nimport ModelRenderer from \"./ModelRenderer\";\r\nimport store from \"./redux/store\";\r\nimport { deselectComment, moveCamera } from \"./redux/actions\";\r\n\r\nfunction MainPage({\r\n  cursor,\r\n  onClickTopCamera,\r\n  onClickFrontCamera,\r\n  onClickSideCamera\r\n}) {\r\n  return (\r\n    <div id=\"app-container\" className={cursor}>\r\n      <Header />\r\n      <div id=\"main-area\">\r\n        {/* <div id=\"variations-column\"></div> */}\r\n        <DrawOver className=\"draw-over\">\r\n          <ModelRenderer className=\"renderer\" />\r\n          <div className=\"camera-button-row\">\r\n            <button\r\n              className=\"camera-button top-camera-button\"\r\n              onClick={onClickTopCamera}\r\n            >\r\n              <div className=\"camera-button-icon-container\">\r\n                <img src=\"assets/top-icon.svg\" alt=\"Top camera view icon\" />\r\n              </div>\r\n              Top\r\n            </button>\r\n            <button\r\n              className=\"camera-button front-camera-button\"\r\n              onClick={onClickFrontCamera}\r\n            >\r\n              <div className=\"camera-button-icon-container\">\r\n                <img src=\"assets/front-icon.svg\" alt=\"Top camera view icon\" />\r\n              </div>\r\n              Front\r\n            </button>\r\n            <button\r\n              className=\"camera-button side-camera-button\"\r\n              onClick={onClickSideCamera}\r\n            >\r\n              <div className=\"camera-button-icon-container\">\r\n                <img src=\"assets/side-icon.svg\" alt=\"Top camera view icon\" />\r\n              </div>\r\n              Side\r\n            </button>\r\n          </div>\r\n        </DrawOver>\r\n        <CommentsColumn />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst WrappedMainPage = connect(\r\n  ({ cursor }) => ({ cursor }),\r\n  dispatch => ({\r\n    onClickTopCamera: () => {\r\n      dispatch(deselectComment());\r\n      dispatch(moveCamera({ position: [0, 4, 0], focus: [0, 0, 0] }));\r\n    },\r\n    onClickFrontCamera: () => {\r\n      dispatch(deselectComment());\r\n      dispatch(moveCamera({ position: [0, 0, 4], focus: [0, 0, 0] }));\r\n    },\r\n    onClickSideCamera: () => {\r\n      dispatch(deselectComment());\r\n      dispatch(moveCamera({ position: [-4, 0, 0], focus: [0, 0, 0] }));\r\n    }\r\n  })\r\n)(MainPage);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <WrappedMainPage />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}