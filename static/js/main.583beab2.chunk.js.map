{"version":3,"sources":["ModelRenderer.js","Header/Header.js","Note/Note.js","ConfirmResolve/ConfirmResolve.js","NotesColumn/MainThread/MainThread.js","NotesColumn/Thread/Thread.js","NotesColumn/NotesColumn.js","index.js"],"names":["Model","setModelSize","props","gltf","useLoader","GLTFLoader","useEffect","maxVector","Box3","setFromObject","scene","max","length","object","position","Controls","cameraPosition","modelSize","controls","updateCamera","target","camera","set","current","update","useThree","domElement","gl","Vector3","setLength","toArray","focus","ref","args","ModelRenderer","setCamera","setOrbitControls","useState","undefined","useRef","fov","near","onCreated","outputEncoding","sRGBEncoding","background","Color","minDistance","maxDistance","fallback","extend","OrbitControls","Header","className","onClick","alert","alt","src","React","Component","addDays","date","days","result","Date","valueOf","setDate","getDate","Note","selected","pin","white","author","comment","thread","onResolve","onReply","showReply","style","backgroundColor","color","event","stopPropagation","dateInMillis","today","toDateString","toLocaleTimeString","navigator","language","timeStyle","toLocaleDateString","dateStyle","dateString","replyString","children","ConfirmResolve","isModalOpen","onCancel","id","MainThread","notes","onSubmitComment","onSelect","onDeselect","onResolveNote","onReplyNote","setSelected","resolveNoteId","setResolveNoteId","inputComment","setInputComment","placeholder","value","onChange","map","index","note","key","Thread","onReturn","onSubmitReply","replyComment","setReplyComment","deleteNoteId","setDeleteNoteId","autoFocus","onKeyPress","preventDefault","NotesColumn","activeThread","setActiveThread","find","NOTES","getTime","colors","ReactDOM","render","setCameraPosition","setControls","setNotes","Math","floor","random","addComment","addReply","filter","deleteNote","document","getElementById"],"mappings":"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","file":"static/js/main.583beab2.chunk.js","sourcesContent":["import React, { Suspense, useRef, useState, useEffect } from \"react\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { Canvas, useThree, extend, useLoader } from \"react-three-fiber\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { Box3, Vector3, Color, sRGBEncoding } from \"three\";\r\n\r\nextend({ OrbitControls });\r\n\r\nfunction Model({ setModelSize, ...props }) {\r\n  const gltf = useLoader(GLTFLoader, \"models/gltf/sneaker/scene.gltf\");\r\n\r\n  useEffect(() => {\r\n    const maxVector = new Box3().setFromObject(gltf.scene).max;\r\n    setModelSize(maxVector.length());\r\n  }, [gltf, setModelSize]);\r\n\r\n  return <primitive object={gltf.scene} position={[0, 0, 0]} {...props} />;\r\n}\r\n\r\nfunction Controls({ cameraPosition, modelSize, controls, ...props }) {\r\n  function updateCamera(position, target, camera, controls) {\r\n    camera.position.set(...position);\r\n    controls.current.target.set(...target);\r\n    controls.current.update();\r\n  }\r\n\r\n  const {\r\n    camera,\r\n    gl: { domElement }\r\n  } = useThree();\r\n\r\n  useEffect(() => {\r\n    if (modelSize) {\r\n      updateCamera(\r\n        new Vector3(1, 0.5, 1).setLength(2 * modelSize).toArray(),\r\n        [0, 0, 0],\r\n        camera,\r\n        controls\r\n      );\r\n    }\r\n  }, [camera, modelSize, controls]);\r\n\r\n  useEffect(() => {\r\n    if (cameraPosition) {\r\n      updateCamera(\r\n        cameraPosition.position,\r\n        cameraPosition.focus,\r\n        camera,\r\n        controls\r\n      );\r\n    }\r\n  }, [camera, cameraPosition, controls]);\r\n\r\n  return (\r\n    <orbitControls ref={controls} args={[camera, domElement]} {...props} />\r\n  );\r\n}\r\n\r\nexport function ModelRenderer({\r\n  cameraPosition,\r\n  setCamera,\r\n  setOrbitControls,\r\n  ...props\r\n}) {\r\n  const [modelSize, setModelSize] = useState(undefined);\r\n\r\n  const controls = useRef();\r\n  useEffect(() => {\r\n    setOrbitControls(controls.current);\r\n  }, [controls, setOrbitControls]);\r\n\r\n  return (\r\n    <Canvas\r\n      camera={{ fov: 60, near: 1 }}\r\n      onCreated={({ gl, scene, camera }) => {\r\n        gl.outputEncoding = sRGBEncoding;\r\n        scene.background = new Color(0xfafafa);\r\n\r\n        setCamera(camera);\r\n      }}\r\n      {...props}\r\n    >\r\n      <Controls\r\n        cameraPosition={cameraPosition}\r\n        modelSize={modelSize}\r\n        controls={controls}\r\n        minDistance={1}\r\n        maxDistance={modelSize ? 5 * modelSize : 50}\r\n      />\r\n      <ambientLight />\r\n      <Suspense fallback={null}>\r\n        <Model setModelSize={setModelSize} />\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"head\">\r\n        <div className=\"greeting-row\">\r\n          <span className=\"greeting\">Welcome Greg!</span>\r\n        </div>\r\n        <div className=\"button-row\">\r\n          <div className=\"buttons\">\r\n            <button\r\n              className=\"share\"\r\n              onClick={() => alert(\"share link copied\")}\r\n            >\r\n              <span className=\"textShare\">Share</span>\r\n            </button>\r\n            <button\r\n              className=\"AR\"\r\n              onClick={() => alert(\"more features to come\")}\r\n            >\r\n              <span className=\"textAR\">AR</span>\r\n            </button>\r\n          </div>\r\n          <img\r\n            className=\"profile\"\r\n            alt=\"Greg\"\r\n            src=\"https://assets.website-files.com/5d3152346d95065922960b3a/5db769036b1dff3418bffd20_Greg.jpg\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Note.css\";\r\n\r\nexport function addDays(date, days) {\r\n  const result = new Date(date.valueOf());\r\n  result.setDate(date.getDate() + days);\r\n  return result;\r\n}\r\n\r\nfunction dateString(dateInMillis) {\r\n  const today = new Date();\r\n  const date = new Date(dateInMillis);\r\n\r\n  if (today.toDateString() === date.toDateString()) {\r\n    return `${date.toLocaleTimeString(navigator.language, {\r\n      timeStyle: \"short\"\r\n    })} Today`;\r\n  } else if (today.toDateString() === addDays(date, 1).toDateString()) {\r\n    return \"Yesterday\";\r\n  } else {\r\n    return date.toLocaleDateString(navigator.language, { dateStyle: \"medium\" });\r\n  }\r\n}\r\n\r\nfunction replyString(thread) {\r\n  if (thread && thread.length > 0) {\r\n    if (thread.length > 1) {\r\n      return `${thread.length} Replies`;\r\n    } else {\r\n      return \"1 Reply\";\r\n    }\r\n  } else {\r\n    return \"Reply\";\r\n  }\r\n}\r\n\r\nexport function Note({\r\n  selected,\r\n  white,\r\n  pin,\r\n  author,\r\n  date,\r\n  comment,\r\n  thread,\r\n  onResolve,\r\n  onReply,\r\n  showReply = true,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className={selected ? \"selected-bar\" : \"\"}></div>\r\n      <div className={\"note\" + (selected ? \" selected\" : \"\")} {...props}>\r\n        <div className={\"note-content\" + (selected ? \" selected\" : \"\")}>\r\n          <div className=\"note-top-row\">\r\n            <img\r\n              className=\"pin-color\"\r\n              alt=\"\"\r\n              style={{ backgroundColor: pin.color }}\r\n            />\r\n            <div className=\"note-top-column\">\r\n              <div className=\"author-row\">\r\n                <div className=\"author-name\">{author}</div>\r\n                <button\r\n                  className={\"resolve\" + (thread ? \" main-comment\" : \"\")}\r\n                  onClick={event => {\r\n                    event.stopPropagation();\r\n                    onResolve();\r\n                  }}\r\n                >\r\n                  Resolve\r\n                </button>\r\n              </div>\r\n              <div className=\"note-date\">{dateString(date)}</div>\r\n            </div>\r\n          </div>\r\n          <p className=\"comment\">{comment}</p>\r\n          {showReply ? (\r\n            <div className=\"reply-row\">\r\n              <button\r\n                className=\"reply-button\"\r\n                onClick={event => {\r\n                  event.stopPropagation();\r\n                  onReply();\r\n                }}\r\n              >\r\n                {replyString(thread)}\r\n              </button>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./ConfirmResolve.css\";\r\n\r\nexport function ConfirmResolve({ isModalOpen, onCancel, onResolve, ...props }) {\r\n  return (\r\n    <div id=\"modal\" className={isModalOpen ? \"\" : \"hide\"} onClick={onCancel}>\r\n      <div\r\n        id=\"modal-dialog\"\r\n        onClick={event => event.stopPropagation()}\r\n        {...props}\r\n      >\r\n        <span id=\"modal-warning\">Are you sure you want to resolve?</span>\r\n        <div id=\"modal-actions\">\r\n          <span\r\n            id=\"modal-cancel\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onCancel();\r\n            }}\r\n          >\r\n            Cancel\r\n          </span>\r\n          <span\r\n            id=\"modal-submit\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onResolve();\r\n            }}\r\n          >\r\n            Submit\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport TextareaAutosize from \"react-autosize-textarea/lib\";\r\nimport { Note } from \"../../Note/Note\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\nimport \"./MainThread.css\";\r\n\r\nexport function MainThread({\r\n  notes,\r\n  onSubmitComment,\r\n  onSelect,\r\n  onDeselect,\r\n  onResolveNote,\r\n  onReplyNote,\r\n  ...props\r\n}) {\r\n  const [selected, setSelected] = useState(null);\r\n  const [resolveNoteId, setResolveNoteId] = useState(null);\r\n  const [inputComment, setInputComment] = useState(undefined);\r\n\r\n  return (\r\n    <div id=\"notes-column\" {...props}>\r\n      <div id=\"input-column\">\r\n        <span id=\"input-label\">Comments</span>\r\n        <TextareaAutosize\r\n          id=\"input-comment\"\r\n          placeholder=\"Add a comment\"\r\n          value={inputComment}\r\n          onChange={event => setInputComment(event.target.value)}\r\n        />\r\n        <div id=\"input-actions\">\r\n          <button\r\n            id=\"input-cancel\"\r\n            className={inputComment ? \"enabled\" : \"\"}\r\n            onClick={() => inputComment && setInputComment(\"\")}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            id=\"input-submit\"\r\n            className={inputComment ? \"enabled\" : \"\"}\r\n            onClick={() => {\r\n              if (inputComment) {\r\n                onSubmitComment(inputComment);\r\n                setInputComment(\"\");\r\n              }\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"scroll-column\">\r\n        {notes.map(({ id, camera, ...note }, index) => (\r\n          <Note\r\n            key={id}\r\n            selected={id === selected}\r\n            white={index % 2 === 1}\r\n            onClick={() => {\r\n              if (selected === id) {\r\n                onDeselect();\r\n                setSelected(null);\r\n              } else {\r\n                onSelect(camera);\r\n                setSelected(id);\r\n              }\r\n            }}\r\n            onResolve={() => setResolveNoteId(id)}\r\n            onReply={comment => {\r\n              setSelected(id);\r\n              onReplyNote(id, comment);\r\n            }}\r\n            {...note}\r\n          ></Note>\r\n        ))}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={resolveNoteId}\r\n        onCancel={() => setResolveNoteId(null)}\r\n        onResolve={() => {\r\n          onResolveNote(resolveNoteId);\r\n          setResolveNoteId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./Thread.css\";\r\nimport { Note } from \"../../Note/Note\";\r\nimport TextareaAutosize from \"react-autosize-textarea/lib\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\n\r\nexport function Thread({\r\n  note,\r\n  onReturn,\r\n  onSubmitReply,\r\n  onResolveNote,\r\n  ...props\r\n}) {\r\n  const [replyComment, setReplyComment] = useState(undefined);\r\n  const [deleteNoteId, setDeleteNoteId] = useState(null);\r\n\r\n  return note ? (\r\n    <div id=\"thread-column\" {...props}>\r\n      <div\r\n        id=\"back-to-comments-row\"\r\n        onClick={() => {\r\n          onReturn();\r\n          setReplyComment(\"\");\r\n        }}\r\n      >\r\n        <i id=\"back-to-comments-icon\" className=\"material-icons\">\r\n          chevron_left\r\n        </i>\r\n        Back to all comments\r\n      </div>\r\n      <Note\r\n        selected\r\n        onResolve={() => setDeleteNoteId(note.id)}\r\n        showReply={false}\r\n        {...note}\r\n      >\r\n        <TextareaAutosize\r\n          id=\"reply-comment\"\r\n          placeholder=\"Add a reply\"\r\n          autoFocus\r\n          value={replyComment}\r\n          onChange={event => setReplyComment(event.target.value)}\r\n          onKeyPress={event => {\r\n            if (event.key === \"Enter\") {\r\n              event.preventDefault();\r\n              onSubmitReply(note.id, replyComment);\r\n              setReplyComment(\"\");\r\n            }\r\n          }}\r\n        />\r\n      </Note>\r\n      <div className=\"scroll-column\">\r\n        {note &&\r\n          note.thread.map(note => (\r\n            <Note\r\n              key={note.id}\r\n              white\r\n              onResolve={() => setDeleteNoteId(note.id)}\r\n              showReply={false}\r\n              {...note}\r\n            />\r\n          ))}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={deleteNoteId}\r\n        onCancel={() => setDeleteNoteId(null)}\r\n        onResolve={() => {\r\n          onResolveNote(deleteNoteId);\r\n          setDeleteNoteId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { MainThread } from \"./MainThread/MainThread\";\r\nimport \"./NotesColumn.css\";\r\nimport { Thread } from \"./Thread/Thread\";\r\n\r\nexport function NotesColumn({\r\n  notes,\r\n  onSelect,\r\n  onDeselect,\r\n  onSubmitComment,\r\n  onSubmitReply,\r\n  ...props\r\n}) {\r\n  const [activeThread, setActiveThread] = useState(null);\r\n\r\n  if (\r\n    activeThread &&\r\n    notes.find(({ id }) => id === activeThread) === undefined\r\n  ) {\r\n    setActiveThread(null);\r\n  }\r\n\r\n  return (\r\n    <div id=\"notes-row\">\r\n      <MainThread\r\n        className={\r\n          \"main-thread\" + (activeThread ? \" main-thread-inactive\" : \"\")\r\n        }\r\n        notes={notes}\r\n        onSelect={onSelect}\r\n        onDeselect={onDeselect}\r\n        onSubmitComment={onSubmitComment}\r\n        onReplyNote={id => {\r\n          onSelect(notes.find(note => note.id === id).camera);\r\n          setActiveThread(id);\r\n        }}\r\n        {...props}\r\n      />\r\n      <Thread\r\n        className={\r\n          \"active-thread\" + (!activeThread ? \" active-thread-inactive\" : \"\")\r\n        }\r\n        note={notes.find(note => note.id === activeThread)}\r\n        onReturn={() => setActiveThread(null)}\r\n        onSubmitReply={onSubmitReply}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ModelRenderer } from \"./ModelRenderer\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./index.css\";\r\nimport Header from \"./Header/Header\";\r\nimport { NotesColumn } from \"./NotesColumn/NotesColumn\";\r\nimport { addDays } from \"./Note/Note\";\r\n\r\nconst NOTES = [\r\n  {\r\n    id: 1,\r\n    camera: {\r\n      position: [2.67002707256112, 10.68010829024448, 16.02016243536672],\r\n      focus: [0, 0, 0]\r\n    },\r\n    pin: {\r\n      color: \"#ff7a7a\"\r\n    },\r\n    author: \"Greg Gottesman\",\r\n    date: new Date().getTime(),\r\n    comment:\r\n      \"This is great feature to add. But have we thought about how it will work with the new intiative rolling out?\",\r\n    thread: []\r\n  },\r\n  {\r\n    id: 2,\r\n    camera: {\r\n      position: [10.680108290244483, 16.020162435366725, 2.670027072561121],\r\n      focus: [0, 0, 0]\r\n    },\r\n    pin: {\r\n      color: \"#ffe279\"\r\n    },\r\n    author: \"Ed Lazowska\",\r\n    date: addDays(new Date(), -1).getTime(),\r\n    comment:\r\n      \"I disagree with the design choice here. I believe that weather resistant material would be better used here.\",\r\n    thread: []\r\n  },\r\n  {\r\n    id: 3,\r\n    camera: {\r\n      position: [16.02016243536672, 2.67002707256112, 10.68010829024448],\r\n      focus: [0, 0, 0]\r\n    },\r\n    pin: {\r\n      color: \"#ffc37c\"\r\n    },\r\n    author: 'Dawy \"The Boulder\" Johnson',\r\n    date: addDays(new Date(), -2).getTime(),\r\n    comment:\r\n      \"Have we thought about the cool factor associated with adding a flap here?  Iâ€™ve seeing market research that it is popular with our target demo.\",\r\n    thread: []\r\n  }\r\n];\r\n\r\nconst colors = [\"#c4c4c4\", \"#ff7a7a\", \"#ffe279\", \"#ffc37c\"];\r\n\r\nconst addComment = (notes, camera, controls, comment) => [\r\n  {\r\n    id: 1 + Math.max(...notes.map(({ id }) => id)),\r\n    camera: {\r\n      position: camera.position.toArray(),\r\n      focus: controls.target.toArray()\r\n    },\r\n    pin: { color: colors[Math.floor(Math.random() * colors.length)] },\r\n    author: \"Greg Gottesman\",\r\n    date: new Date().getTime(),\r\n    comment: comment,\r\n    thread: []\r\n  },\r\n  ...notes\r\n];\r\n\r\nconst addReply = (notes, id, comment) =>\r\n  notes.map(({ thread, ...note }) =>\r\n    note.id === id\r\n      ? {\r\n          ...note,\r\n          thread: [\r\n            {\r\n              id: 1 + Math.max(id, ...thread.map(({ id }) => id)),\r\n              pin: { color: note.pin.color },\r\n              author: \"Greg Gottesman\",\r\n              date: new Date().getTime(),\r\n              comment: comment\r\n            },\r\n            ...thread\r\n          ]\r\n        }\r\n      : { thread, ...note }\r\n  );\r\n\r\nconst deleteNote = (id, notes) =>\r\n  notes\r\n    .filter(note => note.id !== id)\r\n    .map(({ thread, ...note }) => ({\r\n      thread: thread.filter(note => note.id !== id),\r\n      ...note\r\n    }));\r\n\r\nfunction MainPage() {\r\n  const [cameraPosition, setCameraPosition] = useState(undefined);\r\n  const [camera, setCamera] = useState(undefined);\r\n  const [controls, setControls] = useState(undefined);\r\n  const [notes, setNotes] = useState(NOTES);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div id=\"main-area\">\r\n        <div id=\"variations-column\"></div>\r\n        <ModelRenderer\r\n          id=\"three-renderer\"\r\n          cameraPosition={cameraPosition}\r\n          setCamera={camera => setCamera(camera)}\r\n          setOrbitControls={controls => setControls(controls)}\r\n        />\r\n        <NotesColumn\r\n          notes={notes}\r\n          onSubmitComment={comment =>\r\n            setNotes(addComment(notes, camera, controls, comment))\r\n          }\r\n          onSubmitReply={(id, comment) =>\r\n            setNotes(addReply(notes, id, comment))\r\n          }\r\n          onSelect={cameraPosition => setCameraPosition(cameraPosition)}\r\n          onDeselect={() => setCameraPosition(null)}\r\n          onResolveNote={id => setNotes(deleteNote(id, notes))}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nReactDOM.render(<MainPage />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}